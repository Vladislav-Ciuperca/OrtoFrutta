//@ui5-bundle gestionalerepartofruttacoop/Component-preload.js
sap.ui.require.preload({
	"gestionalerepartofruttacoop/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","gestionalerepartofruttacoop/model/models"],(e,t)=>{"use strict";return e.extend("gestionalerepartofruttacoop.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
},
	"gestionalerepartofruttacoop/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("gestionalerepartofruttacoop.controller.App",{onInit(){}})});
},
	"gestionalerepartofruttacoop/controller/View1.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox","sap/m/MessageToast"],function(t,e,i,s,o){"use strict";return t.extend("gestionalerepartofruttacoop.controller.View1",{onInit(){this.AddModel=new sap.ui.model.json.JSONModel;this.getView().setModel(this.AddModel,"AddProducts");this.getView().getModel("AddProducts").setProperty("/Prodotti",[]);this.getRouter().getRoute("RouteView1").attachPatternMatched(this._gestioniProdottiMatched,this);this.oModel=this.getView().getModel("AddProducts");setTimeout(()=>{this.checkOfferte()},500)},functionPostFlusso:function(){let t=this.getView().getModel("AddProducts").getProperty("/Prodotti");let e={arrayProducts:t};console.log(JSON.stringify(e));var i=this.getOwnerComponent().getModel().sServiceUrl;jQuery.ajax({url:i+"/functionGetFlusso",method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(t){},error:function(t,e,i){console.error("Errore nella chiamata:",i);console.log("Dettagli errore:",t.responseText)}})},onEdit:function(){var t=this.getOwnerComponent().getModel().sServiceUrl;console.log(t,"functionGetFlusso");var e=this.getView().getModel("AddProducts");this.savedData=JSON.stringify(e.getProperty("/Prodotti"));console.log(e.getProperty("/Prodotti"));this.byId("modifica").setVisible(false);this.byId("undo").setVisible(true);this.byId("barra").setVisible(true);this.byId("input_categoria").setVisible(true);this.byId("text_categoria").setVisible(false);this.byId("input_nome").setVisible(true);this.byId("text_nome").setVisible(false);this.byId("input_quanita").setVisible(true);this.byId("text_quantita").setVisible(false);this.byId("input_prezzo").setVisible(true);this.byId("text_prezzo").setVisible(false);this.byId("input_sconto").setVisible(true);this.byId("text_sconto").setVisible(false);this.byId("input_data").setVisible(true);this.byId("text_data").setVisible(false);this.byId("input_origine").setVisible(true);this.byId("text_origine").setVisible(false);this.byId("delete").setVisible(true)},onSave:function(){let t=this.getView().getModel("AddProducts").getProperty("/Prodotti");let e;for(const i of t){if(i.prodotto&&i.quantita_giacenza){e=true}else{e=false;s.error("Nome e Quantià sono dei campi obbligatori");return"break"}}if(e){this.byId("modifica").setVisible(true);this.byId("undo").setVisible(false);this.byId("barra").setVisible(false);setTimeout(()=>{this.byId("input_categoria").setVisible(false);this.byId("text_categoria").setVisible(true);this.byId("input_nome").setVisible(false);this.byId("text_nome").setVisible(true);this.byId("input_quanita").setVisible(false);this.byId("text_quantita").setVisible(true);this.byId("input_prezzo").setVisible(false);this.byId("text_prezzo").setVisible(true);this.byId("input_sconto").setVisible(false);this.byId("text_sconto").setVisible(true);this.byId("input_data").setVisible(false);this.byId("text_data").setVisible(true);this.byId("input_origine").setVisible(false);this.byId("text_origine").setVisible(true)},500);this.byId("delete").setVisible(false);this.functionPostFlusso();this.checkOfferte()}},checkOfferte:function(){let t=this.oModel.getProperty("/Prodotti").map(t=>t.sconto);let e=this.byId("statoOfferte");let i=this.getView().getModel("i18n").getResourceBundle();let s=i.getText("text_nessuna");let o=0;t.forEach(t=>{if(t){o++}if(o>0){e.setState("Success");e.setText(o)}else if(o==0){e.setState("Error");e.setText(s)}})},onUndo:function(){var t=this;var e=this.getView().getModel("AddProducts");var i=JSON.stringify(e.getProperty("/Prodotti"));var o=this.savedData;var r=i==o;if(r){this.undoShit()}else{s.confirm("Vuoi annulare le modifiche?",{icon:s.Icon.WARNING,title:"Annulla",actions:[s.Action.OK,s.Action.CANCEL],emphasizedAction:s.Action.OK,initialFocus:s.Action.CANCEL,dependentOn:this.getView(),onClose:function(e){if(e===s.Action.OK){t.undoShit()}else if(s.Action.CANCEL){}}})}},onlyNumbers:function(t){let e=t.getSource();let i=e.getValue();if(/^[0-9.,]*$/.test(i)){}else{let t=i.split("");t.splice(t.length-1,1);let s=t.join("");e.setValue(s);sap.m.MessageToast.show("Questo campo accetta solo numeri",{duration:1e3,width:"20em"})}},undoShit:function(){this.byId("modifica").setVisible(true);this.byId("undo").setVisible(false);this.byId("barra").setVisible(false);this._gestioniProdottiMatched();this.byId("input_categoria").setVisible(false);this.byId("text_categoria").setVisible(true);this.byId("input_nome").setVisible(false);this.byId("text_nome").setVisible(true);this.byId("input_quanita").setVisible(false);this.byId("text_quantita").setVisible(true);this.byId("input_prezzo").setVisible(false);this.byId("text_prezzo").setVisible(true);this.byId("input_sconto").setVisible(false);this.byId("text_sconto").setVisible(true);this.byId("input_data").setVisible(false);this.byId("text_data").setVisible(true);this.byId("input_origine").setVisible(false);this.byId("text_origine").setVisible(true);this.byId("delete").setVisible(false)},onDelete:function(t){let e=this;var i=t.getSource().getParent().sId.split("row")[t.getSource().getParent().sId.split("row").length-1];let o=this.getView().getModel("AddProducts").getProperty("/Prodotti")[i].prodotto;s.confirm("Stai cancellando l' elemento "+o,{icon:s.Icon.WARNING,title:"Elimina",actions:[s.Action.OK,s.Action.CANCEL],emphasizedAction:s.Action.OK,dependentOn:this.getView(),onClose:function(i){if(i===s.Action.OK){var o=t.getSource().getParent().sId.split("row")[t.getSource().getParent().sId.split("row").length-1];console.log("sto cancellando",e.getView().getModel("AddProducts").getProperty("/Prodotti")[o]);e.getView().getModel("AddProducts").getProperty("/Prodotti").splice(o,1);var r=e.getView().getModel("AddProducts").getProperty("/Prodotti");e.getView().getModel("AddProducts").setProperty("/Prodotti",r)}else if(i===s.Action.CANCEL){}}})},add:function(){this.byId("barra").setVisible(true);const t={categoria:"",data_aggiornamento:(new Date).toLocaleDateString({day:"2-digit",month:"2-digit",year:"2-digit"}),origine:"",prodotto:"",prezzo_unitario:"",quantita_giacenza:"",sconto:""};let e=this.oModel.getProperty("/Prodotti");e.push(t);this.oModel.setProperty("/Prodotti",e);this.oModel.refresh(true);this.byId("modifica").firePress()},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},filterLetters:function(t){let e=t.split("");let i=[];e.forEach(t=>{if(/^[0-9.,]*$/.test(t)){i.push(t)}});let s=i.join("");return s},onClearTable:function(){console.log(this.filterLetters("1ab2cd3ef4gh"))},_gestioniProdottiMatched:function(){var t=this.getOwnerComponent().getModel().sServiceUrl;var e=this;e.makeAjaxRequest(t+"fruttarolo",function(t){console.log(t.value);t.value.forEach(t=>{t.quantita_giacenza=this.filterLetters(t.quantita_giacenza);t.prezzo_unitario=this.filterLetters(t.prezzo_unitario);if(t.sconto){t.sconto=this.filterLetters(t.sconto);console.log("KKK")}});e.getView().getModel("AddProducts").setProperty("/Prodotti",t.value)}.bind(e),function(t){}.bind(e))},makeAjaxRequest:function(t,e,i){let s=this;jQuery.ajax({url:t,dataType:"json",success:function(t){if(typeof e==="function"){e(t)}},error:function(t){if(typeof i==="function"){i(t)}}})},getArray:function(){console.log(this.getView().getModel("AddProducts").getProperty("/Prodotti"))},onNumberOnly:function(t){var e=t.getParameter("value");console.log("scrivendo");if(!/^\d*$/.test(e)){t.getSource().setValue(e.replace(/\D/g,""))}}})});
},
	"gestionalerepartofruttacoop/i18n/i18n.properties":'# This is the resource bundle for gestionalerepartofruttacoop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=ortofrutta\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=ortofrutta\n\n#XFLD,30\ngestionale_reparto_frutta_coop-display.flpTitle=ortofrutta\n\n\n\ntitolo = Fruit and vegetables\nbutton_edita = Edit\nbutton_elimina = Delete\ntitle_reparto = Section type\ntext_freschi = Fresh products\ntitle_aggiornamento = Update frequency\ntext_giornaliera = Daily\ntitle_temperatura = Recommended temperature\ntext_gradi = 4\\u20136 \\u00b0C\ntitle_promozioni = Active promotions\ntext_nessuna = None\n\nsearch = Search\n\n\ntabella_prodotti = Inventory\n\nid_prodotto = Product ID\ncategoria_prodotto = Category\nnome_prodotto = Product name\nquantit\\u00e0_prodotto = Quantity in stock\nprezzo_prodotto = Price\nsconto_prodotto = Discount\ndata_aggiornamento = Last updated date\norigine_prodotto = Product origin\n\naccetta = Accept\n\nrifiuta = Reject\n\n',
	"gestionalerepartofruttacoop/i18n/i18n_en.properties":'# This is the resource bundle for gestionalerepartofruttacoop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=ortofrutta\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=ortofrutta\n\n#XFLD,30\ngestionale_reparto_frutta_coop-display.flpTitle=ortofrutta\n\n\ntitolo = Fruit and vegetables\nbutton_edita = Edit\nbutton_elimina = Delete\ntitle_reparto = Section type\ntext_freschi = Fresh products\ntitle_aggiornamento = Update frequency\ntext_giornaliera = Daily\ntitle_temperatura = Recommended temperature\ntext_gradi = 4\\u20136 \\u00b0C\ntitle_promozioni = Active promotions\ntext_nessuna = None\n\n\nsearch = Search\n\n\ntabella_prodotti = Inventory\n\nid_prodotto = Product ID\ncategoria_prodotto = Category\nnome_prodotto = Product name\nquantit\\u00e0_prodotto = Quantity in stock\nprezzo_prodotto = Price\nsconto_prodotto = Discount\ndata_aggiornamento = Last updated date\norigine_prodotto = Product origin\n\naccetta = Accept\n\nrifiuta = Reject\n',
	"gestionalerepartofruttacoop/i18n/i18n_it.properties":'# This is the resource bundle for gestionalerepartofruttacoop\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=ortofrutta\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=ortofrutta\n\n#XFLD,30\ngestionale_reparto_frutta_coop-display.flpTitle=ortofrutta\n\n\ntitolo = Ortofrutta\nbutton_edita = Modifica\nbutton_elimina = Elimina\ntitle_reparto = Tipologia reparto\ntext_freschi = Prodotti freschi\ntitle_aggiornamento = Frequenza aggiornamento\ntext_giornaliera = Giornaliera\ntitle_temperatura = Temperatura consigliata\ntext_gradi = 4\\u20136 \\u00b0C\ntitle_promozioni = Promozioni attive\ntext_nessuna = Nessuna\n\nsearch = Cerca\n\ntabella_prodotti = Inventario\n\nid_prodotto = ID prodotto\ncategoria_prodotto = Categoria\nnome_prodotto = Nome prodotto\nquantit\\u00e0_prodotto = Quantit\\u00e0 in giacenza\nprezzo_prodotto = Prezzo\nsconto_prodotto = Sconto\ndata_aggiornamento = Data ultimo aggiornamento\norigine_prodotto = Origine prodotto\n\n\naccetta = Accetta\nrifiuta = Rifiuta\n\n\n',
	"gestionalerepartofruttacoop/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"gestionalerepartofruttacoop","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.17.5","toolsId":"1d028283-bec1-4801-9580-b2f2cd0701c3"},"dataSources":{"mainService":{"uri":"/odata/v4/catalog-fruttarolo/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"gestionale_reparto_frutta_coop-display":{"semanticObject":"gestionale_reparto_frutta_coop","action":"display","title":"{{gestionale_reparto_frutta_coop-display.flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.136.0","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"gestionalerepartofruttacoop.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"gestionalerepartofruttacoop.view","async":true,"viewPath":"gestionalerepartofruttacoop.view"},"routes":[{"name":"RouteView1","pattern":":?query:","target":["TargetView1"]}],"targets":{"TargetView1":{"id":"View1","name":"View1"}}},"rootView":{"viewName":"gestionalerepartofruttacoop.view.App","type":"XML","id":"App","async":true}},"sap.cloud":{"public":true,"service":"esercitazione"}}',
	"gestionalerepartofruttacoop/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"gestionalerepartofruttacoop/view/App.view.xml":'<mvc:View controllerName="gestionalerepartofruttacoop.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"gestionalerepartofruttacoop/view/View1.view.xml":'<mvc:View controllerName="gestionalerepartofruttacoop.controller.View1"\n\txmlns:mvc="sap.ui.core.mvc"\n\txmlns:c="sap.ui.core"\n\txmlns="sap.m"\n\txmlns:u="sap.ui.unified"\n\txmlns:core="sap.ui.core"\n\txmlns:t="sap.ui.table"\n\txmlns:f="sap.f"\n\txmlns:layout="sap.ui.layout" height="100%"><f:DynamicPage id="PageId" preserveHeaderStateOnScroll="true" headerExpanded="{/headerExpanded}"\n\t\tshowFooter="true" fitContent="true"><f:title><f:DynamicPageTitle><f:heading><Title text="{i18n>titolo}" /></f:heading></f:DynamicPageTitle></f:title><f:header><f:DynamicPageHeader pinnable="true"><FlexBox alignItems="Start" justifyContent="SpaceBetween"><items><Panel backgroundDesign="Transparent" class="sapUiNoContentPadding"><content><layout:HorizontalLayout allowWrapping="true"><layout:VerticalLayout class="sapUiMediumMarginEnd"><ObjectAttribute title="{i18n>title_reparto}"\n\t\t\t\t\t\t\t\t\t\t\ttext="{i18n>text_freschi}" /><ObjectAttribute title="{i18n>title_aggiornamento}"\n\t\t\t\t\t\t\t\t\t\t\ttext="{i18n>text_giornaliera}" /><ObjectAttribute title="{i18n>title_temperatura}"\n\t\t\t\t\t\t\t\t\t\t\ttext="{i18n>text_gradi}" /></layout:VerticalLayout><layout:VerticalLayout><ObjectAttribute title="{i18n>title_promozioni}" /><ObjectStatus id="statoOfferte" text="{i18n>text_nessuna}"\n\t\t\t\t\t\t\t\t\t\t\tstate="Error" /></layout:VerticalLayout></layout:HorizontalLayout></content></Panel></items></FlexBox></f:DynamicPageHeader></f:header><f:content><t:Table id="tabella" rows="{AddProducts>/Prodotti}" selectionMode="None" rowMode="Auto"\n\t\t\t\twidth="auto" enableColumnReordering="true"><t:extension><OverflowToolbar style="Clear"  ><ToolbarSpacer /><Button id="modifica" press="onEdit" text="{i18n>button_edita}"\n\t\t\t\t\t\t\ttype="Emphasized" visible="true" /><Button id="undo" press="onUndo" visible="false" icon="sap-icon://undo" /><OverflowToolbarButton id="add" press="add" tooltip="Add" text="Add"\n\t\t\t\t\t\t\ticon="sap-icon://add" /></OverflowToolbar><OverflowToolbar style="Clear"><Title text="{i18n>tabella_prodotti}" /></OverflowToolbar></t:extension><t:columns><t:Column id="text_categoria" visible="true" sortProperty="categoria"\n\t\t\t\t\t\tfilterProperty="categoria" resizable="false"><Label text="{i18n>categoria_prodotto}" /><t:template><Text text="{AddProducts>categoria}" wrapping="false" /></t:template></t:Column><t:Column id="input_categoria" visible="false"><Label text="{i18n>categoria_prodotto}" /><t:template><Input value="{AddProducts>categoria}" /></t:template></t:Column><t:Column id="text_nome" visible="true" sortProperty="prdotto"\n\t\t\t\t\t\tfilterProperty="prodotto" resizable="false"><Label text="{i18n>nome_prodotto}" /><t:template><Text text="{AddProducts>prodotto}" wrapping="false" /></t:template></t:Column><t:Column id="input_nome" visible="false"><Label text="{i18n>nome_prodotto}" /><t:template><Input value="{AddProducts>prodotto}" /></t:template></t:Column><t:Column id="text_quantita" visible="true" sortProperty="giacenza"\n\t\t\t\t\t\tfilterProperty="giacenza" resizable="false"><Label text="{i18n>quantità_prodotto}" /><t:template><Label text="{AddProducts>quantita_giacenza} {= ${AddProducts>quantita_giacenza} ? \'Kg\' : \'\' }" wrapping="false" /></t:template></t:Column><t:Column id="input_quanita" visible="false"><Label text="{i18n>quantità_prodotto}" /><t:template><Input value="{AddProducts>quantita_giacenza}" liveChange="onlyNumbers"/></t:template></t:Column><t:Column id="text_prezzo" visible="true" sortProperty="prezzo_unitario"\n\t\t\t\t\t\tfilterProperty="prezzo_unitario" resizable="false"><Label text="{i18n>prezzo_prodotto} " /><t:template><Label text="{AddProducts>prezzo_unitario} {= ${AddProducts>prezzo_unitario} ? \'€\' : \'\' }" /></t:template></t:Column><t:Column id="input_prezzo" visible="false"><Label text="{i18n>prezzo_prodotto}" /><t:template><Input value="{AddProducts>prezzo_unitario}" liveChange="onlyNumbers"/></t:template></t:Column><t:Column id="text_sconto" visible="true" sortProperty="sconto"\n\t\t\t\t\t\tfilterProperty="sconto" resizable="false"><Label text="{i18n>sconto_prodotto}" /><t:template><Text text="{AddProducts>sconto}  {= ${AddProducts>sconto} ? \'%\' : \'\' }" wrapping="false" /></t:template></t:Column><t:Column id="input_sconto" visible="false"><Label text="{i18n>sconto_prodotto}" /><t:template><Input value="{AddProducts>sconto}" liveChange="onlyNumbers"/></t:template></t:Column><t:Column id="text_data" sortProperty="data_aggiornamento"\n\t\t\t\t\t\tfilterProperty="data_aggiornamento" resizable="false"><Label text="{i18n>data_aggiornamento}" /><t:template><Text text="{AddProducts>data_aggiornamento}" wrapping="false" /></t:template></t:Column><t:Column id="input_data" visible="false"><Label text="{i18n>data_aggiornamento}" /><t:template><DatePicker value="{AddProducts>data_aggiornamento}" /></t:template></t:Column><t:Column id="text_origine" visible="true" sortProperty="origine"\n\t\t\t\t\t\tfilterProperty="origine" resizable="false"><Label text="{i18n>origine_prodotto}" /><t:template><Text text="{AddProducts>origine}" wrapping="false" /></t:template></t:Column><t:Column id="input_origine" visible="false"><Label text="{i18n>origine_prodotto}" /><t:template><Select selectedKey="{AddProducts>origine}"><c:Item text="Messico" key="messico" /><c:Item text="Italy" key="Italy" /><c:Item text="New Zeland" key="New Zeland" /><c:Item text="Cina" key="Cina" /><c:Item text="Indonesia" key="Indonesia" /><c:Item text="India" key="India" /><c:Item text="Sud America" key="sudamerica" /><c:Item text="iran" key="iran" /><c:Item text="Persia" key="Persia" /></Select></t:template></t:Column><t:Column id="delete" width="3rem" visible="false"><t:template><Button icon="sap-icon://delete" type="Reject" press="onDelete"\n\t\t\t\t\t\t\t\ttooltip="{delete}" /></t:template></t:Column></t:columns></t:Table></f:content><f:footer><OverflowToolbar id="barra" visible="false"><ToolbarSpacer /><Button id="save" press="onSave" visible="true" icon="sap-icon://save" /></OverflowToolbar></f:footer></f:DynamicPage></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
